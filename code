#include <stdio.h>
#include <stdlib.h>
#include <locale.h>
#include <string.h>

typedef struct {   // STRUCT PARA ARMAZENAR OS DADOS DO PRODUTO
        char nome_prod[50], marca_prod[50], peso[50], litros[50];
        int codigo_prod;
        float preco;
    }Produtos;



int main(){

setlocale(LC_ALL, "Portuguese");

    char soun;
    int i, z, x, j, cont=0, opcao[10], data_retirada, forma_pagamento, unidades, opcao_menu, cod_escolha;
    float valor_total=0, desconto;


    Produtos p[21];


    //ALIMENTOS//

    strcpy(p[1].nome_prod, "ARROZ");   // ATRIBUIÇÃO DOS DADOS
    strcpy(p[1].marca_prod, "PILECCO NOBRE");
    strcpy(p[1].peso, "1KG");
    p[1].preco = 4.30;
    p[1].codigo_prod = 1;

    strcpy(p[2].nome_prod, "FEIJÃO");
    strcpy(p[2].marca_prod, "CAMIL");
    strcpy(p[2].peso, "1KG");
    p[2].preco = 3.00;
    p[2].codigo_prod = 2;

    strcpy(p[3].nome_prod, "MACARRÃO INSTANTÂNEO");
    strcpy(p[3].marca_prod, "NISSIN");
    strcpy(p[3].peso, "80g");
    p[3].preco = 1.39;
    p[3].codigo_prod = 3;

    strcpy(p[4].nome_prod, "AÇÚCAR REFINADO");
    strcpy(p[4].marca_prod, "UNIÃO");
    strcpy(p[4].peso, "1KG");
    p[4].preco = 2.69;
    p[4].codigo_prod = 4;

    strcpy(p[5].nome_prod, "FARINHA DE TRIGO");
    strcpy(p[5].marca_prod, "DONA BENTA");
    strcpy(p[5].peso, "1KG");
    p[5].preco = 3.59;
    p[5].codigo_prod = 5;


    //BEBIDAS//

    strcpy(p[6].nome_prod, "REFRIGERANTE COLA");
    strcpy(p[6].marca_prod, "COCA COLA");
    strcpy(p[6].litros, "2.5L");
    p[6].preco = 7.69;
    p[6].codigo_prod = 6;

    strcpy(p[7].nome_prod, "REFRIGERANTE COLA");
    strcpy(p[7].marca_prod, "PEPSI");
    strcpy(p[7].litros, "1.5L");
    p[7].preco = 5.99;
    p[7].codigo_prod = 7;

    strcpy(p[8].nome_prod, "ÁGUA MINERAL");
    strcpy(p[8].marca_prod, "CRYSTAL");
    strcpy(p[8].litros, "500ml");
    p[8].preco = 2.50;
    p[8].codigo_prod = 8;

    strcpy(p[9].nome_prod, "CERVEJA 12 UNID.");
    strcpy(p[9].marca_prod, "SKOL");
    strcpy(p[9].litros, "350ml");
    p[9].preco = 28.68;
    p[9].codigo_prod = 9;

    strcpy(p[10].nome_prod, "SUCO DE UVA");
    strcpy(p[10].marca_prod, "DEL VALLE");
    strcpy(p[10].litros, "1L");
    p[10].preco = 5.99;
    p[10].codigo_prod = 10;


    //LIMPEZA//

    strcpy(p[11].nome_prod, "DETERGENTE NEUTRO");
    strcpy(p[11].marca_prod, "YPÊ");
    strcpy(p[11].litros, "500ml");
    p[11].preco = 2.16;
    p[11].codigo_prod = 11;

    strcpy(p[12].nome_prod, "SABÃO LÍQUIDO");
    strcpy(p[12].marca_prod, "OMO");
    strcpy(p[12].litros, "3L");
    p[12].preco = 26.90;
    p[12].codigo_prod = 12;

    strcpy(p[13].nome_prod, "ÁGUA SANITÁRIA");
    strcpy(p[13].marca_prod, "SUPER CÂNDIDA");
    strcpy(p[13].litros, "2L");
    p[13].preco = 5.57;
    p[13].codigo_prod = 13;

    strcpy(p[14].nome_prod, "DESINFETANTE");
    strcpy(p[14].marca_prod, "OMO");
    strcpy(p[14].litros, "900ml");
    p[14].preco = 8.99;
    p[14].codigo_prod = 14;

    strcpy(p[15].nome_prod, "ESPONJA DE LIMPEZA 3 UNID.");
    strcpy(p[15].marca_prod, "SCOTCH-BRITE");
    p[15].preco = 5.19;
    p[15].codigo_prod = 15;


    // HIGIENE //

    strcpy(p[16].nome_prod, "PAPEL HIGIÊNICO");
    strcpy(p[16].marca_prod, "PERSONAL VIP");
    p[16].preco = 13.76;
    p[16].codigo_prod = 16;

    strcpy(p[17].nome_prod, "ESCOVA DE DENTE 2 UNID.");
    strcpy(p[17].marca_prod, "COLGATE");
    p[17].preco = 16.90;
    p[17].codigo_prod = 17;

    strcpy(p[18].nome_prod, "FIO DENTAL");
    strcpy(p[18].marca_prod, "COLGATE");
    p[18].preco = 7.82;
    p[18].codigo_prod = 18;

    strcpy(p[19].nome_prod, "CREME DENTAL");
    strcpy(p[19].marca_prod, "CLOSE UP");
    p[19].preco = 6.13;
    p[19].codigo_prod = 19;

    strcpy(p[20].nome_prod, "SABONETE EM BARRA");
    strcpy(p[20].marca_prod, "DOVE");
    p[20].preco = 2.31;
    p[20].codigo_prod = 20;


    printf("BEM VINDO A MERCEARIA ONLINE\n");


    //MENU DE OPÇÕES

    do{

        printf("\n\tMENU DE OPÇÕES\n");
        printf("\n1 - Alimentos\n");
        printf("2 - Bebidas\n");
        printf("3 - Produtos de Limpeza\n");
        printf("4 - Produtos de Higiêne\n");
        printf("5 - Finalizar\n");
        printf("\nDigite o número da opção desejada: ");
        scanf("%i",&opcao_menu);
        system("cls"); //LIMPA A TELA

        switch(opcao_menu){
            case 1:
                for (i = 1; i <= 5; i++){ //  MOSTRANDO OS DADOS DOS ALIMENTOS
                        printf ("\nNOME DO PRODUTO: %s \nMARCA: %s \nPESO: %s \nPREÇO: R$%.2f \nCódigo: %i \n", p[i].nome_prod, p[i].marca_prod, p[i].peso, p[i].preco, p[i].codigo_prod);
                }
                break;

            case 2:
                for (z = 6; z <= 10; z++){ //  MOSTRANDO OS DADOS DAS BEBIDAS
                    printf ("\nNOME DO PRODUTO: %s \nMARCA: %s \nLITROS: %s \nPREÇO: R$%.2f \nCódigo: %i \n", p[z].nome_prod, p[z].marca_prod, p[z].litros, p[z].preco, p[z].codigo_prod);
                }
                break;

            case 3:
                for (x = 11; x <= 15; x++){ //  MOSTRANDO OS DADOS DOS PRODUROS DE LIMPEZA
                    printf ("\nNOME DO PRODUTO: %s \nMARCA: %s \nLITROS: %s \nPREÇO: R$%.2f \nCódigo: %i \n", p[x].nome_prod, p[x].marca_prod, p[x].litros, p[x].preco, p[x].codigo_prod);
                }
                break;

            case 4:
            	for (j = 16; j <= 20; j++){ //  MOSTRANDO OS DADOS DOS PRODUROS DE HIGIENE
                    printf ("\nNOME DO PRODUTO: %s \nMARCA: %s \nPREÇO: R$%.2f \nCódigo: %i \n", p[j].nome_prod, p[j].marca_prod, p[j].preco, p[j].codigo_prod);
                }
            	break;

            case 5:
                system("cls"); //LIMPA A TELA
                printf("FIM DA COMPRA!\n");
                return 0; //FECHA O PROGRAMA

                break;
            default:
                printf("OPÇÃO INVáLIDA!\nTENTE NOVAMENTE:\n");
                break;
        }

    }while(opcao_menu>5);


    //FIM MENU DAS OPÇÕES

    do{

        printf("\nEscolha um produto digitando seu código: ");
        scanf("%i", &cod_escolha);

        if (cod_escolha > 20){                  //validação das opções
            printf("\nOPÇÃO INVÁLIDA!\n");
        }

        printf("Digite quantas unidades deseja: ");
        scanf ("%i", &unidades);

        cont = cont + 1 * unidades;     //contador para saber quantos produtos foram escolhidos

        if (cod_escolha == 1){
            valor_total = valor_total + p[1].preco * unidades; // CALCULO DO VALOR TOTAL DOS PRODUTOS ESCOLHIDOS
        }if (cod_escolha == 2){
            valor_total = valor_total + p[2].preco * unidades;
        }if (cod_escolha == 3){
            valor_total = valor_total + p[3].preco * unidades;
        }if (cod_escolha == 4){
            valor_total = valor_total + p[4].preco * unidades;
        }if (cod_escolha == 5){
            valor_total = valor_total + p[5].preco * unidades;
        }if (cod_escolha == 6){
            valor_total = valor_total + p[6].preco * unidades;
        }if (cod_escolha == 7){
            valor_total = valor_total + p[7].preco * unidades;
        }if (cod_escolha == 8){
            valor_total = valor_total + p[8].preco * unidades;
        }if (cod_escolha == 9){
            valor_total = valor_total + p[9].preco * unidades;
        }if (cod_escolha == 10){
            valor_total = valor_total + p[10].preco * unidades;
        }if (cod_escolha == 11){
            valor_total = valor_total + p[11].preco * unidades;
        }if (cod_escolha == 12){
            valor_total = valor_total + p[12].preco * unidades;
        }if (cod_escolha == 13){
            valor_total = valor_total + p[13].preco * unidades;
        }if (cod_escolha == 14){
            valor_total = valor_total + p[14].preco * unidades;
        }if (cod_escolha == 15){
            valor_total = valor_total + p[15].preco * unidades;
        }if (cod_escolha == 16){
            valor_total = valor_total + p[16].preco * unidades;
        }if (cod_escolha == 17){
            valor_total = valor_total + p[17].preco * unidades;
        }if (cod_escolha == 18){
            valor_total = valor_total + p[18].preco * unidades;
        }if (cod_escolha == 19){
            valor_total = valor_total + p[19].preco * unidades;
        }if (cod_escolha == 20){
            valor_total = valor_total + p[20].preco * unidades;
        }


        printf("\nDeseja adicionar outro produto ao carrinho de compras? | S ou N | ");
        scanf(" %c", &soun);
    }
    while (soun == 'S' || soun == 's');

    system("cls"); //LIMPA A TELA

    

    printf("\nVocê escolheu %i itens!\n", cont);

    printf("\nValor total da compra = R$%.2f\n", valor_total);

    printf("\nQual será a forma de pagamento?\n 1 - À vista \n 2 - Parcelado ");
    scanf("%i", &forma_pagamento);

    if (forma_pagamento == 1 && valor_total > 100){   //desconto de 10% para compras maiores que 100 e pagamento à vista
        desconto = (valor_total * 10) /100;
        valor_total = valor_total - desconto;
        printf("\nO valor com desconto é: R$%.2f", valor_total);
    }


    //printf("\n\nEscolha uma data para retirar a compra em nossa loja: ");
    //scanf("%i", &data_retirada);


return 0;
}
